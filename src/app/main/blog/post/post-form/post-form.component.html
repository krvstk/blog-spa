<h1 *ngIf="!post.url; else editPostHeader">Create post</h1>
<ng-template #editPostHeader><h1>Edit post</h1></ng-template>

<form [formGroup]="form" fxLayout="column">

  <mat-form-field appearance="outline">
    <mat-label>Author</mat-label>
    <input required matInput formControlName="author">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Description</mat-label>
    <input required matInput formControlName="description">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Title</mat-label>
    <input required matInput formControlName="title">
  </mat-form-field>

  <quill-editor style="height: 500px;" #editor formControlName="content"></quill-editor>
  <br><br><br>

  <mat-form-field appearance="outline">
    <mat-label>Url</mat-label>
    <input required matInput formControlName="url">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Tags</mat-label>
    <input required matInput formControlName="tags">
  </mat-form-field>

  <input type="file" (change)="parseImage($event)">
  <img *ngIf="selectFileEventTarget || post.imageUrl"
       [src]="parsedImage || post.imageUrl"
       alt="thumbnail"
       width="100"
       height="100">
  <button
    *ngIf="selectFileEventTarget"
    (click)="uploadDescriptionImage()"
    color="warn"
    mat-raised-button>Upload image
  </button>

</form>

<button
  mat-raised-button
  type="submit"
  color="accent"
  [disabled]="form.invalid"
  *ngIf="!post.url; else editPostButton"
  (click)="createPost()">Create post
</button>
<ng-template #editPostButton>
  <button mat-raised-button
          color="accent"
          (click)="editPost()"
          [disabled]="form.invalid || form.pristine">Edit post
  </button>
</ng-template>
